FROM eclipse-temurin@sha256:408521f62c9a7589b3960addc4e21552ca0f47bfb8653bdc0a7de3648021d6d9
RUN mkdir /app
WORKDIR /app
COPY build/libs/*-latest.jar ./spring-boot-application.jar
ENTRYPOINT ["java","-jar","/app/spring-boot-application.jar"]

ENV KNOWLEDGE_URL=http://ramses-knowledge:58005
ENV PLAN_URL=http://ramses-plan:58003
ENV PROBE_URL=http://sefa-probe:58020
ENV SERVER_PORT=58002
ENV SCHEDULING_PERIOD=5000
ENV QOS_SATISFACTION_RATE=0.6
ENV ANALYSIS_WINDOW_SIZE=5
ENV METRICS_WINDOW_SIZE=4
ENV FAILURE_RATE_THRESHOLD=0.1
ENV UNREACHABLE_RATE_THRESHOLD=0.35
ENV MAX_BOOT_TIME_SECONDS=120

EXPOSE 58002

